{% extends "layout.html" %}
{% block content %}
<div class="container my-3">
   <p class="lead">
        Do it! 파이썬 6장 페이징 실습을 위한 게시판으로 flask로 작성하였습니다.
    </p>

    <nav aria-label="Search box" class="navbar navbar-light bg-light justify-content-between">
        <span class="navbar-text">총 게시물:{{paging_info.totalCount}}, 페이지 {{page}}/  {{paging_info.totalPage}}</span>
      <form id="search_box" action="/board" class="form-inline" style="width:300px;justify-content: space-between;display:flex;" method="get">
        <input type="hidden" name="page" value="1">
          <input id="searchParam" name="searchParam" value="{{searchParam}}" class="form-control mr-sm-2" type="search" placeholder="검색" aria-label="Search"  >
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit" style="width:100px">검색</button>
      </form>
    </nav>

    <table class="table">
        <thead class="thead-dark">
        <tr>
            <th>번호</th>
            <th>제목</th>
            <th>작성자</th>
            <th>작성일시</th>
            <th>조회수</th>
        </tr>
        </thead>
        <tbody>
        {% if article_list %}
        {% for article in article_list %}
        <tr>
            <td>
               {{ article.bid }}
            </td>

            <td>
                <a href="/board/article/{{ article.bid }}?page={{page}}&amp;searchParam={{searchParam}}">{{ article.subject }}</a>
            </td>
            <td>{{ article.writer }}</td>
            <td>{{ article.regDate }}</td>
            <td>{{ article.readCount }}</td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="5" class="text-center">게시물이 없습니다.</td>
        </tr>
        {% endif %}
        </tbody>
    </table>
    <div class="btn-group" role="group">
        <a href="/board/writeForm" class="btn btn-primary">글쓰기</a>
    </div>
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
           <li class="page-item">
          <a class="page-link" href="/board?page={{paging_info.firstPageNo}}&amp;searchParam={{searchParam}}" aria-label="Previous">
            <span aria-hidden="true">&laquo;&laquo;</span>
            <span class="sr-only">처음</span>
          </a>
        </li>
        <li class="page-item">
          <a class="page-link" href="/board?page={{paging_info.prevPageNo}}&amp;searchParam={{searchParam}}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">이전</span>
          </a>
        </li>
         {%for i in range(paging_info.startPageNo,paging_info.endPageNo+1) %}
            <li class="page-item {%if page == i%}active{%endif%}"><a class="page-link" href="/board?page={{i}}&amp;searchParam={{searchParam}}">{{i}}</a></li>
         {%endfor%}
       <!-- <li class="page-item active"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>-->
        <li class="page-item">
          <a class="page-link" href="/board?page={{paging_info.nextPageNo}}&amp;searchParam={{searchParam}}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">다음</span>
          </a>
        </li>
         <li class="page-item">
          <a class="page-link" href="/board?page={{paging_info.finalPageNo}}&amp;searchParam={{searchParam}}" aria-label="Previous">
            <span aria-hidden="true">&raquo;&raquo;</span>
            <span class="sr-only">마지막</span>
          </a>
        </li>
      </ul>
    </nav>
</div>
{% endblock %}